<https://stackoverflow.com/questions/57483/what-are-the-differences-between-a-pointer-variable-and-a-reference-variable-in>

## 问题

我知道引用是语法糖，用起来方便。但是它们之间到底有啥区别呢？

>译注：上面是整个问题，下面是题主根据回答总结出的内容，并不是提问内容。

根据下面的回答总结如下，并附重要链接：

 1. 指针可以被无限制进行赋值操作，但是引用一旦被绑定一个变量上，就不可以再让它绑定到另外一个变量。
 2. 指针可以指向任何地方，包括`nullptr`，但是引用必须绑定在一个实实在在的变量实体上去。
 3. 指针变量有自己的所占的空间和地址，引用变量没有。
 4. 指针有算术运算（Pointer Arithmetic），比如`p++`，但是引用是没有所谓的算术运算的。

>译注：Pointer Arithmetic 的含义参见参考链接 1。

有必要说下我们常见的一个误解。

C++ 标准并没有明确要求编译器该如何实现引用，但是基本上所有编译器在底层处理上都会把引用当做指针来处理。比如下面是一个引用，

```c++
int &ri = i;
```

**如果未被编译器完全优化**，那么它的底层实现其实就和指针一样，开辟一段内存，存放 i 的地址。

**所以，指针和引用其实都消耗同样的内存大小。**

一般来说，

- 引用用于函数的参数和返回值，有的时候会很有用。比如参数`const std::string& name`，还有单例模式中的引用返回。
- 指针常用于实现算法和数据结构。

另外附一些可能需要的链接：

- [My all-time favorite C++ FAQ lite](http://yosefk.com/c++fqa/ref.html)
- [References vs. Pointers](http://www.embedded.com/electronics-blogs/programming-pointers/4023307/References-vs-Pointers)
- [An Introduction to References](http://www.embedded.com/electronics-blogs/programming-pointers/4024641/An-Introduction-to-References)
- [References and const](http://www.embedded.com/electronics-blogs/programming-pointers/4023290/References-and-const)

## 最佳回答

 1. 指针可以被赋值，
 ```c++
 int x = 5;
int y = 6;
int *p;
p =  &x;
p = &y;
*p = 10;
assert(x == 5);
assert(y == 10);
 ```
 引用不可以，且必须初始化。
 ```c++
 int x = 5;
int y = 6;
int &r = x;
 ```
 2. 指针变量有自己的实际地址和所占空间的大小，x86 上一般是 32 位，但是引用是和它绑定的变量共享一个地址（其实编译器实在底层处理上都会把引用当做指针来处理，也就是说它其实也是占空间的）。因为引用和绑定的变量共享一块内存，所以你可以简单的认为，引用就是这个变量的另一个别名。注意：指针指向的既可以是栈也可以是堆，在这点上，引用也是一样的。

## 参考链接

- [https://en.wikipedia.org/wiki/Pointer_(computer_programming)#C_and_C++](https://en.wikipedia.org/wiki/Pointer_(computer_programming)#C_and_C++)
